<h2 class="c-parme bd-bt">Détails des publicités</h2>

<table class="table table-striped table-hover" id="ads_table">
    <thead>
        <tr class="table-dark">
            {% include 'helpers/table-head/client.html.twig' %}
            {% include 'helpers/table-head/prestataire.html.twig' %}
            {% include 'helpers/table-head/offre.html.twig' %}
            {% include 'helpers/table-head/cost.html.twig' %}
            {% include 'helpers/table-head/price.html.twig' %}
            {% include 'helpers/table-head/renew.html.twig' %}
            {% include 'helpers/table-head/start.html.twig' %}
            {% include 'helpers/table-head/date-renew.html.twig' %}
            <th data-filter="false">Date de fin</th>
            {% include 'helpers/table-head/actif.html.twig' %}
            <th data-filter="false">Site</th>
            <th data-filter="false">Réseau Social</th>
            {% include 'helpers/table-head/commentary.html.twig' %}
            {% include 'helpers/table-head/empty-non-sortable.html.twig' %}
        </tr>
    </thead>
    <tbody>
        {% for currentAd in ads %}
            <tr class="align-middle">
                {% set client = currentAd.client %}
                {% include 'helpers/table-body/client.html.twig' %}
                {% include 'helpers/table-body/provider.html.twig' with {'provider': currentAd.provider} only %}
                {% include 'helpers/table-body/offer.html.twig' with {'offer': currentAd.offer} only %}
                {% include 'helpers/table-body/price-ht.html.twig' with {'price': currentAd.cost} only %}
                {% include 'helpers/table-body/price-ht.html.twig' with {'price': currentAd.invoicedPrice} only %}
                {% include 'helpers/table-body/renewal-type.html.twig' with {'renewalType': currentAd.renewalType } only %}
                {% include 'helpers/table-body/date.html.twig' with {'date': currentAd.startDate} only %}
                {% include 'helpers/table-body/date.html.twig' with {'date': currentAd.renewalDate, 'month': 'true'} only %}
                {% include 'helpers/table-body/date.html.twig' with {'date': currentAd.endDate} only %}
                {% include 'helpers/table-body/oui-non.html.twig' with {'boolean': currentAd.enable} only %}
                <td>
                    <div>
                        - {{ currentAd.site.name }}
                        <a class="a-link btn" href="{{ path('ad_remove_site', {'id' : currentAd.id}) }}"
                           onclick="return confirm('Souhaitez-vous vraiment supprimer le site : ' + '{{ currentAd.site.name }}')">
                            <i class="fa fa-trash" aria-hidden="true"></i>
                        </a>
                    </div>
                </td>
                <td>
                    {% if currentAd.socialNetwork is defined and currentAd.socialNetwork is not null %}
                        {{ currentAd.socialNetwork.id }}
                        <a href="{{ path('social_network_show', {'id': currentAd.socialNetwork.id}) }}" class="a-link btn icon-title-left"
                           data-toggle="tooltip" title="Cliquez pour plus de détails"> <i class="fa fa-search" aria-hidden="true"></i></a>
                    {% else %}
                        Aucun
                    {% endif %}
                </td>
                {% include 'helpers/table-body/commentary.html.twig' with {'commentary': currentAd.commentary} only %}
                {% include 'helpers/table-body/edit-link.html.twig' with {'link': path('ad_edit', {'id': currentAd.id})} only %}
            </tr>
        {% endfor %}
    </tbody>
</table>
